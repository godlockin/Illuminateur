#!/bin/bash

# Illuminateur æ‰‹åŠ¨éƒ¨ç½²æŒ‡å—
# ç”±äº wrangler login é—®é¢˜ï¼Œæ”¹ä¸ºæ‰‹åŠ¨æ“ä½œæŒ‡å¼•

echo "ğŸ” Illuminateur æ‰‹åŠ¨éƒ¨ç½²æŒ‡å—"
echo "=============================="
echo ""
echo "ç”±äº wrangler CLI ç™»å½•é—®é¢˜ï¼Œè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ‰‹åŠ¨æ“ä½œï¼š"
echo ""
echo "ğŸ“‹ æ­¥éª¤ 1: åœ¨ Cloudflare Dashboard ä¸­åˆ›å»ºèµ„æº"
echo "-------------------------------------------"
echo "1. è®¿é—® https://dash.cloudflare.com"
echo "2. ç™»å½•ä½ çš„ Cloudflare è´¦æˆ·"
echo ""
echo "ğŸ—„ï¸ åˆ›å»º D1 æ•°æ®åº“:"
echo "1. è¿›å…¥ 'Workers & Pages' > 'D1 SQL Database'"
echo "2. ç‚¹å‡» 'Create database'"
echo "3. æ•°æ®åº“åç§°: illuminateur-db"
echo "4. åˆ›å»ºå®Œæˆåï¼Œå¤åˆ¶ Database ID"
echo ""
echo "ğŸ“¦ åˆ›å»º R2 å­˜å‚¨æ¡¶:"
echo "1. è¿›å…¥ 'R2 Object Storage'"
echo "2. ç‚¹å‡» 'Create bucket'"
echo "3. å­˜å‚¨æ¡¶åç§°: illuminateur-storage"
echo "4. é€‰æ‹©åˆé€‚çš„åŒºåŸŸ"
echo ""
echo "ğŸ“‹ æ­¥éª¤ 2: æ›´æ–°é…ç½®æ–‡ä»¶"
echo "------------------------"
echo "1. ç¼–è¾‘ wrangler.toml æ–‡ä»¶"
echo "2. å°† database_id æ›¿æ¢ä¸ºæ­¥éª¤1ä¸­å¤åˆ¶çš„ Database ID"
echo "3. ç¡®ä¿ bucket_name ä¸º illuminateur-storage"
echo ""
echo "ğŸ“‹ æ­¥éª¤ 3: åˆå§‹åŒ–æ•°æ®åº“"
echo "------------------------"
echo "1. åœ¨ Cloudflare Dashboard çš„ D1 æ•°æ®åº“é¡µé¢"
echo "2. ç‚¹å‡» 'Console' æ ‡ç­¾"
echo "3. å¤åˆ¶ schema.sql æ–‡ä»¶çš„å†…å®¹å¹¶æ‰§è¡Œ"
echo "4. æˆ–è€…ä½¿ç”¨å‘½ä»¤: wrangler d1 execute illuminateur-db --file=./schema.sql"
echo ""
echo "ğŸ“‹ æ­¥éª¤ 4: åˆ›å»º Worker"
echo "-------------------"
echo "1. è¿›å…¥ 'Workers & Pages' > 'Overview'"
echo "2. ç‚¹å‡» 'Create application' > 'Create Worker'"
echo "3. Worker åç§°: illuminateur"
echo "4. ç‚¹å‡» 'Deploy' åˆ›å»ºåŸºç¡€ Worker"
echo ""
echo "ğŸ“‹ æ­¥éª¤ 5: é…ç½® Worker"
echo "-------------------"
echo "1. åœ¨ Worker è¯¦æƒ…é¡µé¢ï¼Œç‚¹å‡» 'Settings' > 'Variables'"
echo "2. æ·»åŠ ç¯å¢ƒå˜é‡:"
echo "   - ACCESS_TOKEN: ä½ çš„è®¿é—®ä»¤ç‰Œï¼ˆè‡ªå®šä¹‰ï¼‰"
echo "   - GEMINI_API_KEY: ä½ çš„ Gemini API å¯†é’¥"
echo "3. åœ¨ 'Settings' > 'Bindings' ä¸­æ·»åŠ :"
echo "   - D1 Database: å˜é‡å D1_DBï¼Œé€‰æ‹© illuminateur-db"
echo "   - R2 Bucket: å˜é‡å R2_BUCKETï¼Œé€‰æ‹© illuminateur-storage"
echo ""
echo "ğŸ“‹ æ­¥éª¤ 6: éƒ¨ç½²ä»£ç "
echo "------------------"
echo "1. å¤åˆ¶ src/index.js çš„å…¨éƒ¨å†…å®¹"
echo "2. åœ¨ Worker è¯¦æƒ…é¡µé¢ï¼Œç‚¹å‡» 'Quick edit'"
echo "3. ç²˜è´´ä»£ç å¹¶ç‚¹å‡» 'Save and deploy'"
echo ""
echo "ğŸ“‹ æ­¥éª¤ 7: æµ‹è¯•åº”ç”¨"
echo "------------------"
echo "1. è®¿é—® Worker çš„ URL"
echo "2. è¾“å…¥ä½ è®¾ç½®çš„ ACCESS_TOKEN"
echo "3. æµ‹è¯•æ–‡æœ¬ã€URLã€å›¾ç‰‡åˆ†æåŠŸèƒ½"
echo ""
echo "ğŸ”§ è·å– Gemini API å¯†é’¥:"
echo "1. è®¿é—® https://makersuite.google.com/app/apikey"
echo "2. ç™»å½• Google è´¦æˆ·å¹¶åˆ›å»º API å¯†é’¥"
echo ""
echo "â“ å¦‚æœé‡åˆ°é—®é¢˜:"
echo "1. æ£€æŸ¥æ‰€æœ‰ç»‘å®šæ˜¯å¦æ­£ç¡®é…ç½®"
echo "2. ç¡®è®¤ç¯å¢ƒå˜é‡å·²æ­£ç¡®è®¾ç½®"
echo "3. æŸ¥çœ‹ Worker çš„å®æ—¶æ—¥å¿—æ’æŸ¥é”™è¯¯"
echo ""
echo "âœ… å®Œæˆåï¼Œä½ çš„ Illuminateur åº”ç”¨å°±å¯ä»¥ä½¿ç”¨äº†ï¼"